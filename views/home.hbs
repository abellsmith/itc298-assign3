<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
{{#if name}}
    <h2>Hi {{name}}</h2>
{{/if}}

<form action="/search" method="post">
    Course name: <input type="text" name="course" id="course"><br>
    <button>Search</button>
    <button>Add</button>
    <button>Delete</button>
</form>
<hr>
<table>
    <tr>
        <th>course</th>
        <th>city</th>
    </tr>    
{{#each courses}}
    <tr>
        <td><a href="/detail/{{course}}">{{course}}</a></td>
        <td>{{city}}</td>
    </tr>
{{/each}}
</table>




<script>
    $(document).ready(function(){
        var buttons = $('button');
        buttons.on('click', function() {
            var $this = $(this);
            $('form').attr('action', $this.text().toLowerCase());
                if (action == 'new course') {
                    event.preventDefault();
                    location.href = "/detail/" + $("input:text[name=course]").val();
                } else {
                    $("form").attr("action", "/" + action);
                }
            });
        });
        
        function editCourse(row) {
            var course = $(row).children().first().text();
            location.href = "/detail/" + course;
        }
        });
    })
</script>





<script>
//     $(document).ready(function(){
//         var buttons = $('button');
        
//         buttons.on('click', function() {
//             var $this = $(this);
//             var action = $this.text().toLowerCase();
//             if (action == 'new course') {
//                 event.preventDefault();
//                 location.href = "/detail/" + $("input:text[name=company]").val();
//             } else {
//                 $("form").attr("action", "/" + action);
//             }
//         });
//     });
    
//     function editLead(row) {
//         var company = $(row).children().first().text();
//         location.href = "/detail/" + company;
//     }
</script>

</body>